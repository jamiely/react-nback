(this.webpackJsonpnback=this.webpackJsonpnback||[]).push([[0],{26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var c,o,r=n(1),a=n.n(r),i=n(20),s=n.n(i),u=(n(26),n(2)),l=n(17),d=n(18),h=(n(27),n(9)),j=(n(28),n(7)),b=["\ud83d\udca9","\ud83c\udf49","\ud83d\udd25","\ud83d\ude05","\ud83d\udc12","\ud83c\udf08","\ud83c\udf4f","\u26bd"],m=["A","B","C","D","E","F","G","H","J"];!function(t){t.None="",t.Match="Match",t.NoMatch="NoMatch"}(c||(c={})),function(t){t.Symbol="symbol",t.Location="location",t.Audio="audio"}(o||(o={}));var f={round:0,state:c.None};function y(){var t=Math.floor(3*Math.random()),e=Math.floor(3*Math.random());return{text:g(),location:{row:t,column:e},audio:O()}}function O(){var t=Math.floor(Math.random()*m.length);return m[t]}function v(t){return 3*t.row+t.column}function x(t,e){if(t.current.matchState!==c.None)return t;var n={round:t.round,state:c.None},r=t.score,a=Object(j.a)({},t.current);return!function(t,e){return e===o.Location?function(t){var e=t.roundsBack,n=t.history,c=t.current;if(e-1>=n.length)return!1;var o=n[e-1].symbol,r=c.symbol.location;return o.location.row===r.row&&o.location.column===r.column}(t):e===o.Symbol?function(t){var e=t.roundsBack,n=t.history,c=t.current;return!(e-1>=n.length)&&n[e-1].symbol.text===c.symbol.text}(t):e===o.Audio?function(t){var e=t.roundsBack,n=t.history,c=t.current;return!(e-1>=n.length)&&n[e-1].symbol.audio===c.symbol.audio}(t):(console.error("Unrecognized match type ".concat(e)),!1)}(t,e)?a.matchState=n.state=c.NoMatch:(a.matchState=n.state=c.Match,r+=1),Object(j.a)(Object(j.a)({},t),{},{current:a,score:r,matchHistory:t.matchHistory.concat([n])})}function g(){var t=Math.floor(Math.random()*b.length);return b[t]}function k(t){var e=t.current.symbol.location,n=y();return e.row===n.location.row&&e.column===n.location.column?k(t):n}var p=n(0),w=function(t){var e=t.symbol;return Object(p.jsx)("div",{className:"cell",children:null===e||void 0===e?void 0:e.text})},N=function(t){var e=v(t.symbol.location),n=Object(h.a)(Array(9)).map((function(n,c){var o=e===c?t.symbol:void 0;return Object(p.jsx)(w,{symbol:o},c)}));return Object(p.jsx)("div",{className:"gridContainer",children:Object(p.jsx)("div",{className:"grid",children:n})})};var S=function(t){var e=t.text,n=t.onClick;return Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:n,children:e})})};n(30);var I=function(t){return Object(p.jsxs)("div",{className:"infoBar",children:["2-Back",Object(p.jsx)(S,{onClick:t.onLocationClick,text:"(L)ocation"}),Object(p.jsx)(S,{onClick:t.onSymbolClick,text:"Symbol (K)"}),Object(p.jsx)(S,{onClick:t.onAudioClick,text:"Audio (J)"}),t.children]})};n(31);function C(t){var e=t.historyItem,n=t.historyIndex,c=v(e.symbol.location);var o=n+1;return Object(p.jsxs)("div",{className:"historyItem historyItem-".concat(n," matchStatus-").concat(e.matchState),children:[o,"-back",Object(p.jsx)("div",{className:"grid",children:Object(h.a)(Array(9)).map((function(t,n){var o="",r="\xa0";return c===n&&(o=" selected",r=e.symbol.text),Object(p.jsx)("div",{className:"cell ".concat(o),children:r},n)}))}),Object(p.jsx)("div",{className:"audio",children:e.symbol.audio})]})}var M=function(t){var e=t.game,n=e.history.slice(0,10);return Object(p.jsxs)("div",{className:"history",children:[Object(p.jsx)("h3",{children:"History"}),Object(p.jsx)(C,{historyItem:e.current,historyIndex:-1}),n.map((function(t,e){return C({historyItem:t,historyIndex:e})}))]})};function L(t,e){Object(r.useEffect)((function(){function n(n){-1!==t.indexOf(n.key)&&e()}return window.addEventListener("keyup",n),function(){return window.removeEventListener("keyup",n)}}),[e,t])}n(32);var A=function(t){var e=t.score;return Object(p.jsx)("div",{className:"score",children:e})};var B=function(){return Object(p.jsx)("div",{children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:"p - Pause"}),Object(p.jsx)("li",{children:"l - Location match"})]})})};var F=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"A sequence of things will play out. Remember what happened 2 rounds ago! If the same thing that is happening now happened 2 rounds ago, click the corresponding button. For example, if the symbol is in the same location as 2 rounds ago, click the Location button. If the audio is the same as 2 rounds ago, click the Audio button. If the symbol matches the symbol 2 rounds ago, click the symbol button."})})},E=window.speechSynthesis,H=null===E||void 0===E?void 0:E.getVoices();function P(t){var e=function(t){var e=t.matchHistory;return 0===e.length?f:e[e.length-1]}(t);if(e.round<t.round-1)return Object(p.jsx)(p.Fragment,{});var n={};return n[c.Match]="That was a ".concat(t.roundsBack,"-back!"),n[c.NoMatch]="That wasn't a match.",Object(p.jsx)("div",{children:n[e.state]})}var T=function(t){var e=t.game,n=Object(r.useState)(e),a=Object(d.a)(n,2),i=a[0],s=a[1],u=Object(r.useState)(2e3),l=Object(d.a)(u,2),b=l[0],m=l[1];function f(){s((function(t){return x(t,o.Location)}))}function y(){s((function(t){return x(t,o.Location)}))}function O(){s((function(t){return x(t,o.Audio)}))}return L(["k","K"],y),L(["L","l"],f),L(["J","j"],O),L(["p","P"],(function(){m((function(t){return t?null:2e3}))})),function(t,e){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=t}),[t]),Object(r.useEffect)((function(){if(null!==e){var t=setInterval((function(){n&&n.current&&n.current()}),e);return function(){return clearInterval(t)}}}),[e])}((function(){var t=function(t){return Object(j.a)(Object(j.a)({},t),{},{round:t.round+1,current:{symbol:k(t),matchState:c.None},history:[t.current].concat(Object(h.a)(t.history))})}(i);s(t),function(t,e,n){console.log("Voice index ".concat(e," volume ").concat(n));var c=new SpeechSynthesisUtterance(t);c.voice=H[null!==e&&void 0!==e?e:0],c.volume=n,E.speak(c)}(t.current.symbol.audio,0,1)}),b),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(A,{score:i.score}),Object(p.jsxs)("div",{className:"round",children:["Round: ",i.round]}),Object(p.jsx)("div",{className:"main",children:Object(p.jsx)(N,{symbol:i.current.symbol})}),Object(p.jsx)(I,{onLocationClick:f,onSymbolClick:y,onAudioClick:O,children:P(i)}),Object(p.jsx)(M,{game:i}),Object(p.jsxs)("label",{children:["Delay",Object(p.jsxs)("select",{onChange:function(t){var e=parseInt(t.target.value);isNaN(e)&&(e=2e3),m(e)},children:[[{delay:3e3,label:"Slow"},{delay:2e3,label:"Medium"},{delay:1500,label:"Fast"}].map((function(t){return Object(p.jsx)("option",{value:t.delay,selected:t.delay===b,children:t.label},t.delay)})),Object(p.jsx)("option",{selected:!b,children:"Paused"})]})]}),Object(p.jsx)("h2",{children:"Controls"}),Object(p.jsx)(B,{}),Object(p.jsx)("h2",{children:"Instructions"}),Object(p.jsx)(F,{}),Object(p.jsx)("div",{style:{height:"100px"}})]})};var J=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"What is NBack?"}),Object(p.jsx)("blockquote",{children:"The n-back task is a continuous performance task that is commonly used as an assessment in psychology and cognitive neuroscience to measure a part of working memory and working memory capacity. The n-back was introduced by Wayne Kirchner in 1958. Some researchers have argued that n-back training may increase IQ, but evidence is mixed. - https://en.wikipedia.org/wiki/N-back"}),Object(p.jsx)("h2",{children:"Play"}),Object(p.jsx)("a",{href:"/game",children:"Let's play"}),Object(p.jsx)("h2",{children:"Instructions"}),Object(p.jsx)(F,{})]})},D=n(4),K=Object(D.a)();var R=function(t){var e=t.game;return Object(p.jsxs)(u.b,{history:K,children:[Object(p.jsxs)("h1",{children:["Triple ",e.roundsBack,"-back"]}),Object(p.jsx)(l.a,{to:"/",children:"Home"})," | ",Object(p.jsx)(l.a,{to:"/game",children:"Play"}),Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{path:"/game",children:Object(p.jsx)(T,{game:e})}),Object(p.jsx)(u.a,{path:"/",children:Object(p.jsx)(J,{})})]})]})},q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),o(t),r(t),a(t)}))},U={round:1,current:{matchState:c.None,symbol:Object(j.a)(Object(j.a)({},y()),{},{location:{row:0,column:0}})},history:[],roundsBack:2,matchHistory:[],score:0};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(R,{game:U})}),document.getElementById("root")),q()}},[[38,1,2]]]);
//# sourceMappingURL=main.18f52b92.chunk.js.map